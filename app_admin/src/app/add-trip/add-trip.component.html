<div class="row justify-content-center">
  <div class="col-12 col-md-8 col-lg-6">
    <div class="card shadow-sm my-4">
      <div class="card-header bg-primary text-white">
        <h2 class="text-center mb-0">Add Trip</h2>
      </div>
      <div class="card-body">
        <form [formGroup]="addForm" (ngSubmit)="onSubmit()">

          <div class="form-group mb-3">
            <label for="code" class="form-label">Code:</label>
            <input type="text" id="code" formControlName="code"
            placeholder="Trip code (e.g. HAW01)" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.code.errors }">
            <div *ngIf="submitted && f.code.errors" class="invalid-feedback">
              <div *ngIf="f.code.errors.required">Trip Code is required</div>
              <div *ngIf="f.code.errors.minlength">Code must be at least 2 characters</div>
              <div *ngIf="f.code.errors.maxlength">Code cannot exceed 10 characters</div>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="name" class="form-label">Name:</label>
            <input type="text" id="name" formControlName="name"
            placeholder="Trip name" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.name.errors }">
            <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
              <div *ngIf="f.name.errors.required">Name is required</div>
              <div *ngIf="f.name.errors.minlength">Name must be at least 3 characters</div>
              <div *ngIf="f.name.errors.maxlength">Name cannot exceed 100 characters</div>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="length" class="form-label">Length (days):</label>
            <input type="number" id="length" formControlName="length"
            placeholder="Trip length in days" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.length.errors }">
            <div *ngIf="submitted && f.length.errors" class="invalid-feedback">
              <div *ngIf="f.length.errors.required">Length is required</div>
              <div *ngIf="f.length.errors.min">Length must be at least 1 day</div>
              <div *ngIf="f.length.errors.max">Length cannot exceed 30 days</div>
              <div *ngIf="f.length.errors.pattern">Length must be a number</div>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="start" class="form-label">Start Date (YYYY-MM-DD):</label>
            <input type="text" id="start" formControlName="start"
            placeholder="YYYY-MM-DD" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.start.errors }">
            <div *ngIf="submitted && f.start.errors" class="invalid-feedback">
              <div *ngIf="f.start.errors.required">Start Date is required</div>
              <div *ngIf="f.start.errors.pattern">Date must be in YYYY-MM-DD format</div>
              <div *ngIf="f.start.errors.pastDate">Start date cannot be in the past</div>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="resort" class="form-label">Resort:</label>
            <input type="text" id="resort" formControlName="resort"
            placeholder="Resort name" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.resort.errors }">
            <div *ngIf="submitted && f.resort.errors" class="invalid-feedback">
              <div *ngIf="f.resort.errors.required">Resort is required</div>
              <div *ngIf="f.resort.errors.minlength">Resort must be at least 3 characters</div>
              <div *ngIf="f.resort.errors.maxlength">Resort cannot exceed 100 characters</div>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="perPerson" class="form-label">Per Person ($):</label>
            <input type="text" id="perPerson" formControlName="perPerson"
            placeholder="Price per person" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.perPerson.errors }">
            <div *ngIf="submitted && f.perPerson.errors" class="invalid-feedback">
              <div *ngIf="f.perPerson?.errors?.required">Price per person is required</div>
              <div *ngIf="f.perPerson?.errors?.min">Price cannot be negative</div>
              <div *ngIf="f.perPerson?.errors?.pattern">Price must be a valid number (e.g. 199.99)</div>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="image" class="form-label">Image URL:</label>
            <input type="text" id="image" formControlName="image"
            placeholder="https://example.com/image.jpg" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.image.errors }">
            <div *ngIf="submitted && f.image.errors" class="invalid-feedback">
              <div *ngIf="f.image.errors.required">Image URL is required</div>
              <div *ngIf="f.image.errors.pattern">Must be a valid URL starting with http:// or https://</div>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="description" class="form-label">Description:</label>
            <textarea id="description" formControlName="description"
            placeholder="Trip description" class="form-control" rows="4"
              [ngClass]="{ 'is-invalid': submitted && f.description.errors }"></textarea>
            <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
              <div *ngIf="f.description.errors.required">Description is required</div>
              <div *ngIf="f.description.errors.minlength">Description must be at least 10 characters</div>
              <div *ngIf="f.description.errors.maxlength">Description cannot exceed 2000 characters</div>
            </div>
          </div>

          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary">Save Trip</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
